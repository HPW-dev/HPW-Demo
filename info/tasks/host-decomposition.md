# устройство хоста
Хост это системно зависимые функции, их можно заменять и загружать другие функции.

## загрузка хоста
происходит регистрация функций в зависимости от установленного режима
- режим хоста ставится при компиляции опциями.
- примеры режимов: cli, sdl2/3, glfw, gdi, x11.
- Что требуется зарегать: инпут, конвертер в буфер хоста, таймеры и слипы хоста, переключения всинков и фулскринов.
- после загрузки пишется инфа о результате и о настройках системы, затем запускается цикл хоста, в котором крутится игра.

## запуск игры
игра не связана с хвостом, она только запускает его функции через апи.
- загрузка игры.
- запуск цикла с фиксированным тикрейтом.
- разбор ивентов хоста.

## завершение
игра запускает свой финализатор и затем хост себя закрывает и отчитывается об этом.

API хоста:
- init(config): регает базу.
- make_screen(screen_ctx): создаёт окно игры, контекст берёт из настроек в конфиге.
- delay
- time_point
- scan_input
- get_char
- bind_key
- fullscreen 
- VSync 
- get_name
- get_screen_fps
- get_screen_size
- get_args
- get_launch_dir
- save_screenshot
- error_handler
- error_screen
- process_events
- finalize
- многие геттеры можно объеденить для получения структур с инфой и облегчения API.

## итоговый Мейн
вот такой:
host::init(argc, argv)
hpw::init(host::get_info())
while hpw::ran
  host::process_events()
  hpw::update()
hpw::finalize()
host::finalize()

всё это под try/catch с вызовом host::error_screen.

